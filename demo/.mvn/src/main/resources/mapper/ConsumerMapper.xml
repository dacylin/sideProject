<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.demo.mapper.ConsumerMapper">

    <resultMap id="ConsumerResultMap" type="com.example.demo.entity.Consumer">
        <id property="consumersId" column="consumersid"/>
        <result property="consumersName" column="consumersname"/>
        <result property="consumersEmail" column="consumersemail"/>
        <result property="consumersPhone" column="consumersphone"/>
        <result property="consumersAddress" column="consumersaddress"/>
    </resultMap>

    <select id="getAllConsumers" resultType="com.example.demo.entity.Consumer">
        SELECT consumersId, consumersName, consumersEmail, consumersPhone, consumersAddress
        FROM consumers
    </select>

    <select id="getConsumerById" parameterType="int" resultType="com.example.demo.entity.Consumer">
        SELECT consumersId, consumersName, consumersEmail, consumersPhone, consumersAddress
        FROM consumers
        WHERE consumersId = #{id}
    </select>

    <insert id="insertConsumer" parameterType="com.example.demo.entity.Consumer" useGeneratedKeys="true" keyProperty="consumersId">
        INSERT INTO consumers (consumersName, consumersEmail, consumersPhone, consumersAddress)
        VALUES (#{consumersName}, #{consumersEmail}, #{consumersPhone}, #{consumersAddress})
    </insert>

    <update id="updateConsumer" parameterType="com.example.demo.entity.Consumer">
        UPDATE consumers
        SET 
            consumersName = #{consumersName},
            consumersEmail = #{consumersEmail},
            consumersPhone = #{consumersPhone},
            consumersAddress = #{consumersAddress}
        WHERE consumersId = #{consumersId}
    </update>

    <delete id="deleteConsumer" parameterType="int">
        DELETE FROM consumers WHERE consumersId = #{id}
    </delete>

</mapper>
